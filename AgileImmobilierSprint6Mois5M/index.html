<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Constructeur Pro | Simulateur Intelligent 120mÂ²+</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --light-color: #ecf0f1;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
            color: #333;
        }
        
        .hero-section {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            padding: 4rem 0;
            border-radius: 0 0 20px 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .nav-tabs .nav-link {
            color: var(--primary-color);
            font-weight: 600;
            border: none;
        }
        
        .nav-tabs .nav-link.active {
            background-color: var(--secondary-color);
            color: white;
            border-radius: 8px;
        }
        
        .card {
            border-radius: 12px;
            border: none;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: transform 0.3s ease;
            margin-bottom: 1.5rem;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .card-header {
            background-color: var(--primary-color);
            color: white;
            border-radius: 12px 12px 0 0 !important;
            font-weight: 600;
        }
        
        .comparison-table {
            border-collapse: separate;
            border-spacing: 0;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        .comparison-table th {
            background-color: var(--primary-color);
            color: white;
            font-weight: 600;
            padding: 1rem;
            vertical-align: middle;
        }
        
        .comparison-table td {
            padding: 0.75rem;
            vertical-align: top;
            border-bottom: 1px solid #dee2e6;
        }
        
        .comparison-table tr:nth-child(even) {
            background-color: rgba(52, 152, 219, 0.05);
        }
        
        .cost-badge {
            background-color: var(--secondary-color);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-weight: 600;
        }
        
        .tips-box {
            background-color: #fff8e1;
            border-left: 4px solid #ffc107;
            padding: 15px;
            border-radius: 0 8px 8px 0;
            margin: 15px 0;
        }
        
        .rex-box {
            background-color: #e8f5e9;
            border-left: 4px solid #4caf50;
            padding: 15px;
            border-radius: 0 8px 8px 0;
            margin: 15px 0;
        }
        
        .simulator-box {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .parameters-table {
            background-color: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        .parameters-table th {
            background-color: var(--warning-color);
            color: white;
            font-weight: 600;
            padding: 1rem;
        }
        
        .parameters-table td {
            padding: 0.75rem;
            border-bottom: 1px solid #eee;
        }
        
        .parameters-table tr:hover {
            background-color: rgba(243, 156, 18, 0.05);
        }
        
        .input-group-custom {
            max-width: 150px;
        }
        
        .input-group-custom input {
            text-align: center;
            font-weight: 600;
        }
        
        .surface-input-container {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            border: 2px solid var(--secondary-color);
        }
        
        .surface-display {
            font-size: 3rem;
            font-weight: 700;
            color: var(--secondary-color);
            text-align: center;
        }
        
        .surface-label {
            font-size: 1.2rem;
            color: var(--primary-color);
            text-align: center;
            margin-top: -10px;
        }
        
        .btn-primary-custom {
            background-color: var(--secondary-color);
            border-color: var(--secondary-color);
            padding: 10px 25px;
            font-weight: 600;
            border-radius: 8px;
        }
        
        .btn-primary-custom:hover {
            background-color: #2980b9;
            border-color: #2980b9;
        }
        
        .footer {
            background-color: var(--primary-color);
            color: white;
            padding: 3rem 0;
            margin-top: 4rem;
        }
        
        .highlight {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 3px 8px;
            border-radius: 4px;
            font-weight: 600;
        }
        
        .progress-bar-custom {
            background-color: var(--secondary-color);
            border-radius: 10px;
        }
        
        .cost-breakdown-item {
            padding: 10px 0;
            border-bottom: 1px dashed #ddd;
        }
        
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease, transform 0.6s ease;
        }
        
        .animate-on-scroll.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        @media (max-width: 768px) {
            .comparison-table {
                font-size: 0.9rem;
            }
            
            .hero-section {
                padding: 2rem 0;
            }
            
            .surface-display {
                font-size: 2.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm sticky-top">
        <div class="container">
            <a class="navbar-brand fw-bold text-primary" href="#">
                <i class="fas fa-home me-2"></i>Constructeur Pro
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="#simulator">Simulateur</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#parameters">ParamÃ¨tres</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#comparison">Comparaison</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#graph">Graphiques</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#tips">Conseils</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-8">
                    <h1 class="display-5 fw-bold">Guide Complet : Construction Maison 120â€¯mÂ²</h1>
                    <p class="lead">Simulation de devis, astuces pratiques et retours d'expÃ©rience pour votre projet de construction en plain-pied, R+1 ou R+2</p>
                    <div class="mt-4">
                        <span class="badge bg-light text-dark me-2 p-2"><i class="fas fa-ruler me-1"></i> Surface ajustable</span>
                        <span class="badge bg-light text-dark me-2 p-2"><i class="fas fa-sliders-h me-1"></i> ParamÃ¨tres modifiables</span>
                        <span class="badge bg-light text-dark me-2 p-2"><i class="fas fa-chart-line me-1"></i> Comparaison dÃ©taillÃ©e</span>
                    </div>
                </div>
                <div class="col-lg-4 text-center">
                    <div class="surface-input-container">
                        <div class="surface-display" id="surfaceDisplay">120</div>
                        <div class="surface-label">mÂ²</div>
                        <div class="mt-3">
                            <label for="surfaceInput" class="form-label">Ajuster la surface</label>
                            <input type="range" class="form-range" min="60" max="300" step="10" id="surfaceInput" value="120">
                            <div class="d-flex justify-content-between">
                                <small>60 mÂ²</small>
                                <small>180 mÂ²</small>
                                <small>300 mÂ²</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <div class="container my-5">
        <!-- Simulateur Section -->
        <section id="simulator" class="mb-5 animate-on-scroll">
            <div class="simulator-box">
                <h2 class="mb-4"><i class="fas fa-calculator me-2"></i>Simulateur de Devis</h2>
                <div class="row">
                    <div class="col-md-6">
                        <div class="mb-4">
                            <label for="houseType" class="form-label fw-bold">Type de construction</label>
                            <select class="form-select" id="houseType">
                                <option value="plain">Plain-pied</option>
                                <option value="r1">R+1</option>
                                <option value="r2">R+2</option>
                            </select>
                        </div>
                        
                        <div class="mb-4">
                            <label class="form-label fw-bold">Options additionnelles</label>
                            <div class="form-check mb-2">
                                <input class="form-check-input" type="checkbox" id="studySoil">
                                <label class="form-check-label" for="studySoil">Ã‰tude de sol (+5%)</label>
                            </div>
                            <div class="form-check mb-2">
                                <input class="form-check-input" type="checkbox" id="qualityMaterials">
                                <label class="form-check-label" for="qualityMaterials">MatÃ©riaux haute qualitÃ© (+15%)</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="energyEfficient">
                                <label class="form-check-label" for="energyEfficient">Ã‰conomie d'Ã©nergie (+10%)</label>
                            </div>
                        </div>
                        
                        <div class="mb-4">
                            <label for="unexpected" class="form-label fw-bold">Budget imprÃ©vus (%)</label>
                            <input type="range" class="form-range" min="5" max="20" step="1" id="unexpected" value="10">
                            <div class="d-flex justify-content-between">
                                <small>5%</small>
                                <span id="unexpectedValue" class="fw-bold">10%</span>
                                <small>20%</small>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-header">
                                <i class="fas fa-file-invoice-dollar me-2"></i>RÃ©sultat du devis
                            </div>
                            <div class="card-body">
                                <h3 class="text-center mb-4" id="totalCost">19â€¯030â€¯000 FCFA</h3>
                                <div class="text-center mb-3">
                                    <small class="text-muted">Pour une surface de <span id="surfaceResult">120</span> mÂ²</small>
                                </div>
                                
                                <div id="costBreakdown">
                                    <!-- Les Ã©lÃ©ments de rÃ©partition seront insÃ©rÃ©s par JavaScript -->
                                </div>
                                
                                <div class="mt-4">
                                    <div class="d-flex justify-content-between mb-2">
                                        <span>CoÃ»t total estimÃ©:</span>
                                        <span class="fw-bold" id="finalCost">19â€¯030â€¯000 FCFA</span>
                                    </div>
                                    <div class="d-flex justify-content-between">
                                        <span>CoÃ»t au mÂ²:</span>
                                        <span class="fw-bold" id="costPerM2">158â€¯583 FCFA/mÂ²</span>
                                    </div>
                                </div>
                                
                                <div class="alert alert-info mt-4">
                                    <i class="fas fa-info-circle me-2"></i>
                                    <small>Ces estimations sont basÃ©es sur les prix moyens du marchÃ©. Consultez plusieurs artisans pour des devis prÃ©cis.</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ParamÃ¨tres Section -->
        <section id="parameters" class="mb-5 animate-on-scroll">
            <h2 class="mb-4"><i class="fas fa-sliders-h me-2"></i>Top 10 ParamÃ¨tres d'EntrÃ©e</h2>
            <div class="alert alert-warning">
                <i class="fas fa-exclamation-triangle me-2"></i>
                Modifiez ces paramÃ¨tres pour ajuster les calculs Ã  votre situation. Les changements affectent instantanÃ©ment tous les calculs.
            </div>
            
            <div class="table-responsive">
                <table class="table parameters-table">
                    <thead>
                        <tr>
                            <th>ParamÃ¨tre</th>
                            <th>Valeur unitaire</th>
                            <th>UnitÃ©</th>
                            <th>Description</th>
                            <th>Impact</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>CoÃ»t BTCS</strong></td>
                            <td>
                                <div class="input-group input-group-custom">
                                    <input type="number" class="form-control" id="btcsCost" value="250" min="150" max="350">
                                    <span class="input-group-text">FCFA</span>
                                </div>
                            </td>
                            <td>par BTCS</td>
                            <td>CoÃ»t d'un bloc de terre comprimÃ©e stabilisÃ©e</td>
                            <td><span class="badge bg-warning">Moyen</span></td>
                        </tr>
                        <tr>
                            <td><strong>Fondation au mÂ²</strong></td>
                            <td>
                                <div class="input-group input-group-custom">
                                    <input type="number" class="form-control" id="foundationCost" value="30667" min="20000" max="50000">
                                    <span class="input-group-text">FCFA</span>
                                </div>
                            </td>
                            <td>par mÂ²</td>
                            <td>CoÃ»t moyen des fondations par mÂ² de surface</td>
                            <td><span class="badge bg-danger">Ã‰levÃ©</span></td>
                        </tr>
                        <tr>
                            <td><strong>Dalle intermÃ©diaire</strong></td>
                            <td>
                                <div class="input-group input-group-custom">
                                    <input type="number" class="form-control" id="floorCost" value="43200" min="30000" max="60000">
                                    <span class="input-group-text">FCFA</span>
                                </div>
                            </td>
                            <td>par mÂ²</td>
                            <td>CoÃ»t d'une dalle intermÃ©diaire par mÂ²</td>
                            <td><span class="badge bg-danger">Ã‰levÃ©</span></td>
                        </tr>
                        <tr>
                            <td><strong>Toiture</strong></td>
                            <td>
                                <div class="input-group input-group-custom">
                                    <input type="number" class="form-control" id="roofCost" value="40000" min="30000" max="60000">
                                    <span class="input-group-text">FCFA</span>
                                </div>
                            </td>
                            <td>par mÂ²</td>
                            <td>CoÃ»t de la toiture par mÂ² de surface</td>
                            <td><span class="badge bg-warning">Moyen</span></td>
                        </tr>
                        <tr>
                            <td><strong>Ã‰lectricitÃ©</strong></td>
                            <td>
                                <div class="input-group input-group-custom">
                                    <input type="number" class="form-control" id="electricityCost" value="10000" min="8000" max="15000">
                                    <span class="input-group-text">FCFA</span>
                                </div>
                            </td>
                            <td>par mÂ²</td>
                            <td>CoÃ»t de l'installation Ã©lectrique par mÂ²</td>
                            <td><span class="badge bg-success">Faible</span></td>
                        </tr>
                        <tr>
                            <td><strong>Plomberie</strong></td>
                            <td>
                                <div class="input-group input-group-custom">
                                    <input type="number" class="form-control" id="plumbingCost" value="25000" min="20000" max="35000">
                                    <span class="input-group-text">FCFA</span>
                                </div>
                            </td>
                            <td>par mÂ²</td>
                            <td>CoÃ»t de l'installation plomberie par mÂ²</td>
                            <td><span class="badge bg-warning">Moyen</span></td>
                        </tr>
                        <tr>
                            <td><strong>Menuiserie</strong></td>
                            <td>
                                <div class="input-group input-group-custom">
                                    <input type="number" class="form-control" id="joineryCost" value="33333" min="25000" max="45000">
                                    <span class="input-group-text">FCFA</span>
                                </div>
                            </td>
                            <td>par mÂ²</td>
                            <td>CoÃ»t des portes et fenÃªtres par mÂ²</td>
                            <td><span class="badge bg-warning">Moyen</span></td>
                        </tr>
                        <tr>
                            <td><strong>Finitions</strong></td>
                            <td>
                                <div class="input-group input-group-custom">
                                    <input type="number" class="form-control" id="finishesCost" value="35000" min="25000" max="50000">
                                    <span class="input-group-text">FCFA</span>
                                </div>
                            </td>
                            <td>par mÂ²</td>
                            <td>CoÃ»t des finitions (carrelage, peinture) par mÂ²</td>
                            <td><span class="badge bg-warning">Moyen</span></td>
                        </tr>
                        <tr>
                            <td><strong>Main d'Å“uvre</strong></td>
                            <td>
                                <div class="input-group input-group-custom">
                                    <input type="number" class="form-control" id="laborCost" value="12500" min="10000" max="20000">
                                    <span class="input-group-text">FCFA</span>
                                </div>
                            </td>
                            <td>par mÂ²</td>
                            <td>CoÃ»t de la main d'Å“uvre divers par mÂ²</td>
                            <td><span class="badge bg-success">Faible</span></td>
                        </tr>
                        <tr>
                            <td><strong>Toiture coefficient</strong></td>
                            <td>
                                <div class="input-group input-group-custom">
                                    <input type="number" class="form-control" id="roofCoefficient" value="1.2" min="1.0" max="1.5" step="0.1">
                                    <span class="input-group-text">Ã—</span>
                                </div>
                            </td>
                            <td>coefficient</td>
                            <td>Multiplicateur surface toiture / surface sol</td>
                            <td><span class="badge bg-success">Faible</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="text-center mt-4">
                <button class="btn btn-warning me-2" id="resetParams">
                    <i class="fas fa-undo me-2"></i>RÃ©initialiser les paramÃ¨tres
                </button>
                <button class="btn btn-primary-custom" id="applyParams">
                    <i class="fas fa-check me-2"></i>Appliquer les changements
                </button>
            </div>
        </section>

        <!-- Tableau Comparatif -->
        <section id="comparison" class="mb-5 animate-on-scroll">
            <h2 class="mb-4"><i class="fas fa-table me-2"></i>Comparaison dÃ©taillÃ©e des coÃ»ts</h2>
            <div class="alert alert-info">
                <i class="fas fa-info-circle me-2"></i>
                Ces coÃ»ts sont calculÃ©s pour une surface de <span id="comparisonSurface" class="fw-bold">120</span> mÂ². Modifiez la surface dans l'en-tÃªte pour ajuster.
            </div>
            <div class="table-responsive">
                <table class="table comparison-table">
                    <thead>
                        <tr>
                            <th>Poste</th>
                            <th>Plain-pied</th>
                            <th>R+1</th>
                            <th>R+2</th>
                            <th>Tips & REX ðŸ”¥</th>
                        </tr>
                    </thead>
                    <tbody id="comparisonBody">
                        <!-- Le contenu sera gÃ©nÃ©rÃ© par JavaScript -->
                    </tbody>
                    <tfoot class="table-dark">
                        <tr>
                            <td><strong>TOTAL GÃ‰NÃ‰RAL</strong></td>
                            <td><strong class="text-warning" id="totalPlain">19â€¯030â€¯000 FCFA</strong></td>
                            <td><strong class="text-warning" id="totalR1">38â€¯064â€¯000 FCFA</strong></td>
                            <td><strong class="text-warning" id="totalR2">60â€¯058â€¯000 FCFA</strong></td>
                            <td>
                                <div class="text-white">
                                    <small><strong>% structure:</strong> <span id="structurePlain">23%</span> | <span id="structureR1">42%</span> | <span id="structureR2">47%</span></small>
                                </div>
                            </td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </section>

        <!-- Graphiques Section -->
        <section id="graph" class="mb-5 animate-on-scroll">
            <h2 class="mb-4"><i class="fas fa-chart-bar me-2"></i>Visualisation des coÃ»ts</h2>
            <div class="row">
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-header">
                            <i class="fas fa-chart-pie me-2"></i>RÃ©partition des coÃ»ts - Plain-pied
                        </div>
                        <div class="card-body">
                            <canvas id="chartPlainPied"></canvas>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-header">
                            <i class="fas fa-chart-line me-2"></i>Ã‰volution des coÃ»ts par surface
                        </div>
                        <div class="card-body">
                            <canvas id="chartSurfaceImpact"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Conseils Section -->
        <section id="tips" class="animate-on-scroll">
            <h2 class="mb-4"><i class="fas fa-lightbulb me-2"></i>Conseils et bonnes pratiques</h2>
            
            <div class="row">
                <div class="col-md-4 mb-4">
                    <div class="card h-100">
                        <div class="card-header bg-success text-white">
                            <i class="fas fa-piggy-bank me-2"></i>RÃ©duction des coÃ»ts
                        </div>
                        <div class="card-body">
                            <ul class="list-unstyled">
                                <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i>Plan compact + toiture simple â†’ Ã©conomie 5â€“10%</li>
                                <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i>Acheter matÃ©riaux en gros â†’ remise 10â€“15%</li>
                                <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i>PrÃ©voir extension future plutÃ´t que tout construire</li>
                                <li class="mb-2"><i class="fas fa-check-circle text-success me-2"></i>Superviser chantier hebdomadaire â†’ Ã©viter +10â€“15% coÃ»ts</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-4 mb-4">
                    <div class="card h-100">
                        <div class="card-header bg-warning text-dark">
                            <i class="fas fa-exclamation-triangle me-2"></i>Ã‰viter les piÃ¨ges
                        </div>
                        <div class="card-body">
                            <ul class="list-unstyled">
                                <li class="mb-2"><i class="fas fa-times-circle text-danger me-2"></i>Modifications aprÃ¨s fondation â†’ coÃ»ts explosifs</li>
                                <li class="mb-2"><i class="fas fa-times-circle text-danger me-2"></i>Toiture complexe â†’ +20% coÃ»t et retards</li>
                                <li class="mb-2"><i class="fas fa-times-circle text-danger me-2"></i>Ã‰tude de sol nÃ©gligÃ©e â†’ surcoÃ»t 15% minimum</li>
                                <li class="mb-2"><i class="fas fa-times-circle text-danger me-2"></i>Portes/fenÃªtres bas de gamme â†’ remplacement rapide</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-4 mb-4">
                    <div class="card h-100">
                        <div class="card-header bg-info text-white">
                            <i class="fas fa-clipboard-check me-2"></i>Checklist essentielle
                        </div>
                        <div class="card-body">
                            <ul class="list-unstyled">
                                <li class="mb-2"><i class="fas fa-check-square text-info me-2"></i>Ã‰tude technique (sol, fondation, dalle)</li>
                                <li class="mb-2"><i class="fas fa-check-square text-info me-2"></i>Verrouiller tous devis par Ã©crit</li>
                                <li class="mb-2"><i class="fas fa-check-square text-info me-2"></i>Ajouter 10â€“15% pour imprÃ©vus</li>
                                <li class="mb-2"><i class="fas fa-check-square text-info me-2"></i>PrivilÃ©gier matÃ©riaux locaux (transport rÃ©duit)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="row mt-4">
                <div class="col-12">
                    <div class="card">
                        <div class="card-header bg-primary text-white">
                            <i class="fas fa-eye me-2"></i>Observation clÃ©
                        </div>
                        <div class="card-body">
                            <p>Pour <span class="highlight">R+2</span>, la structure (fondation + murs + dalles) devient le <strong>poste dominant (~47â€¯%)</strong> du budget total.</p>
                            <p>Les postes Ã©quipements (Ã©lectricitÃ©, plomberie, menuiserie, finitions) <strong>augmentent linÃ©airement par Ã©tage</strong>.</p>
                            <p>MÃªme le <span class="highlight">Plain-pied</span> nÃ©cessite un budget consÃ©quent pour Ã©quipements complets (~45â€“50â€¯% hors structure).</p>
                            <div class="alert alert-warning mt-3">
                                <i class="fas fa-lightbulb me-2"></i>
                                <strong>Astuce surface:</strong> Une augmentation de 20% de la surface n'augmente pas forcÃ©ment de 20% le coÃ»t total. 
                                Certains postes (comme la toiture) peuvent avoir des Ã©conomies d'Ã©chelle.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h4>Constructeur Pro</h4>
                    <p>Votre guide complet pour la construction de votre maison. Simulations, conseils pratiques et retours d'expÃ©rience pour un projet rÃ©ussi.</p>
                </div>
                <div class="col-md-3">
                    <h5>Liens rapides</h5>
                    <ul class="list-unstyled">
                        <li><a href="#simulator" class="text-white-50">Simulateur</a></li>
                        <li><a href="#parameters" class="text-white-50">ParamÃ¨tres</a></li>
                        <li><a href="#comparison" class="text-white-50">Comparaison</a></li>
                    </ul>
                </div>
                <div class="col-md-3">
                    <h5>Contact</h5>
                    <p class="text-white-50"><i class="fas fa-envelope me-2"></i>contact@constructeurpro.com</p>
                    <p class="text-white-50"><i class="fas fa-phone me-2"></i>+221 33 123 45 67</p>
                </div>
            </div>
            <hr class="bg-white-50">
            <div class="text-center pt-3">
                <p class="text-white-50 mb-0">Â© 2023 Constructeur Pro. Tous droits rÃ©servÃ©s.</p>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // DonnÃ©es de base pour 120 mÂ²
        const baseData120 = {
            plain: {
                name: "Plain-pied",
                total: 19030000,
                breakdown: {
                    foundation: 3680000,
                    walls: 750000,      // 3000 BTCS Ã— 250 FCFA
                    intermediateFloors: 0,
                    roof: 4800000,
                    electricity: 1200000,
                    plumbing: 3000000,
                    joinery: 4000000,
                    finishes: 4200000,
                    miscellaneous: 1500000
                },
                btcCount: 3000
            },
            r1: {
                name: "R+1",
                total: 38064000,
                breakdown: {
                    foundation: 7180000,
                    walls: 1500000,     // 6000 BTCS Ã— 250 FCFA
                    intermediateFloors: 5184000,
                    roof: 4800000,
                    electricity: 2000000,
                    plumbing: 5000000,
                    joinery: 6500000,
                    finishes: 8400000,
                    miscellaneous: 3000000
                },
                btcCount: 6000
            },
            r2: {
                name: "R+2",
                total: 60058000,
                breakdown: {
                    foundation: 11040000,
                    walls: 2250000,     // 9000 BTCS Ã— 250 FCFA
                    intermediateFloors: 10368000,
                    roof: 4800000,
                    electricity: 3000000,
                    plumbing: 7000000,
                    joinery: 9000000,
                    finishes: 12600000,
                    miscellaneous: 4500000
                },
                btcCount: 9000
            }
        };

        // ParamÃ¨tres unitaires
        let unitParams = {
            btcsCost: 250,              // FCFA par BTCS
            foundationCost: 30667,      // FCFA par mÂ² (pour plain-pied)
            floorCost: 43200,           // FCFA par mÂ² par Ã©tage
            roofCost: 40000,            // FCFA par mÂ² (surface toiture)
            electricityCost: 10000,     // FCFA par mÂ²
            plumbingCost: 25000,        // FCFA par mÂ²
            joineryCost: 33333,         // FCFA par mÂ²
            finishesCost: 35000,        // FCFA par mÂ²
            laborCost: 12500,           // FCFA par mÂ²
            roofCoefficient: 1.2        // Coefficient surface toiture / surface sol
        };

        // Surface actuelle
        let currentSurface = 120;

        // Ã‰lÃ©ments DOM
        const surfaceInput = document.getElementById('surfaceInput');
        const surfaceDisplay = document.getElementById('surfaceDisplay');
        const surfaceResult = document.getElementById('surfaceResult');
        const comparisonSurface = document.getElementById('comparisonSurface');
        
        const houseTypeSelect = document.getElementById('houseType');
        const unexpectedSlider = document.getElementById('unexpected');
        const unexpectedValue = document.getElementById('unexpectedValue');
        const totalCostElement = document.getElementById('totalCost');
        const finalCostElement = document.getElementById('finalCost');
        const costPerM2Element = document.getElementById('costPerM2');
        const costBreakdownElement = document.getElementById('costBreakdown');
        
        const comparisonBody = document.getElementById('comparisonBody');
        const totalPlain = document.getElementById('totalPlain');
        const totalR1 = document.getElementById('totalR1');
        const totalR2 = document.getElementById('totalR2');
        const structurePlain = document.getElementById('structurePlain');
        const structureR1 = document.getElementById('structureR1');
        const structureR2 = document.getElementById('structureR2');
        
        // Options additionnelles
        const studySoilCheck = document.getElementById('studySoil');
        const qualityMaterialsCheck = document.getElementById('qualityMaterials');
        const energyEfficientCheck = document.getElementById('energyEfficient');
        
        // ParamÃ¨tres inputs
        const btcsCostInput = document.getElementById('btcsCost');
        const foundationCostInput = document.getElementById('foundationCost');
        const floorCostInput = document.getElementById('floorCost');
        const roofCostInput = document.getElementById('roofCost');
        const electricityCostInput = document.getElementById('electricityCost');
        const plumbingCostInput = document.getElementById('plumbingCost');
        const joineryCostInput = document.getElementById('joineryCost');
        const finishesCostInput = document.getElementById('finishesCost');
        const laborCostInput = document.getElementById('laborCost');
        const roofCoefficientInput = document.getElementById('roofCoefficient');
        
        const resetParamsBtn = document.getElementById('resetParams');
        const applyParamsBtn = document.getElementById('applyParams');

        // Formatage des nombres avec sÃ©parateurs
        function formatNumber(num) {
            return Math.round(num).toString().replace(/\B(?=(\d{3})+(?!\d))/g, "â€¯");
        }

        // Calcul des coÃ»ts en fonction de la surface et des paramÃ¨tres
        function calculateCostsForSurface(surface) {
            const ratio = surface / 120;
            const roofSurface = surface * unitParams.roofCoefficient;
            
            // Calculer les coÃ»ts pour chaque type
            const results = {};
            
            // Plain-pied
            results.plain = {
                name: "Plain-pied",
                total: 0,
                breakdown: {
                    foundation: unitParams.foundationCost * surface,
                    walls: (surface * 25) * unitParams.btcsCost, // 25 BTCS par mÂ²
                    intermediateFloors: 0,
                    roof: unitParams.roofCost * roofSurface,
                    electricity: unitParams.electricityCost * surface,
                    plumbing: unitParams.plumbingCost * surface,
                    joinery: unitParams.joineryCost * surface,
                    finishes: unitParams.finishesCost * surface,
                    miscellaneous: unitParams.laborCost * surface
                }
            };
            
            // Calculer le nombre de BTCS
            results.plain.btcCount = Math.round(surface * 25);
            results.plain.breakdown.walls = results.plain.btcCount * unitParams.btcsCost;
            
            // R+1 (2 Ã©tages)
            results.r1 = {
                name: "R+1",
                total: 0,
                breakdown: {
                    foundation: unitParams.foundationCost * surface * 1.95, // Coefficient R+1
                    walls: (surface * 25 * 2) * unitParams.btcsCost, // 2 Ã©tages
                    intermediateFloors: unitParams.floorCost * surface, // 1 dalle
                    roof: unitParams.roofCost * roofSurface,
                    electricity: unitParams.electricityCost * surface * 1.67, // Coefficient R+1
                    plumbing: unitParams.plumbingCost * surface * 1.67,
                    joinery: unitParams.joineryCost * surface * 1.63,
                    finishes: unitParams.finishesCost * surface * 2, // 2 Ã©tages
                    miscellaneous: unitParams.laborCost * surface * 2
                }
            };
            
            results.r1.btcCount = Math.round(surface * 25 * 2);
            results.r1.breakdown.walls = results.r1.btcCount * unitParams.btcsCost;
            
            // R+2 (3 Ã©tages)
            results.r2 = {
                name: "R+2",
                total: 0,
                breakdown: {
                    foundation: unitParams.foundationCost * surface * 3.0, // Coefficient R+2
                    walls: (surface * 25 * 3) * unitParams.btcsCost, // 3 Ã©tages
                    intermediateFloors: unitParams.floorCost * surface * 2, // 2 dalles
                    roof: unitParams.roofCost * roofSurface,
                    electricity: unitParams.electricityCost * surface * 2.5, // Coefficient R+2
                    plumbing: unitParams.plumbingCost * surface * 2.33,
                    joinery: unitParams.joineryCost * surface * 2.25,
                    finishes: unitParams.finishesCost * surface * 3, // 3 Ã©tages
                    miscellaneous: unitParams.laborCost * surface * 3
                }
            };
            
            results.r2.btcCount = Math.round(surface * 25 * 3);
            results.r2.breakdown.walls = results.r2.btcCount * unitParams.btcsCost;
            
            // Calculer les totaux
            for (const type in results) {
                let total = 0;
                for (const key in results[type].breakdown) {
                    total += results[type].breakdown[key];
                }
                results[type].total = total;
            }
            
            return results;
        }

        // Mise Ã  jour du simulateur
        function updateSimulator() {
            const houseType = houseTypeSelect.value;
            const data = calculateCostsForSurface(currentSurface);
            const typeData = data[houseType];
            const unexpectedPercent = parseInt(unexpectedSlider.value);
            
            // Calcul du coÃ»t de base
            let baseCost = typeData.total;
            
            // Appliquer les options
            let optionsMultiplier = 1;
            if (studySoilCheck.checked) optionsMultiplier += 0.05;
            if (qualityMaterialsCheck.checked) optionsMultiplier += 0.15;
            if (energyEfficientCheck.checked) optionsMultiplier += 0.10;
            
            const adjustedCost = baseCost * optionsMultiplier;
            const unexpectedCost = adjustedCost * (unexpectedPercent / 100);
            const finalCost = adjustedCost + unexpectedCost;
            const costPerM2 = finalCost / currentSurface;
            
            // Mise Ã  jour de l'affichage
            totalCostElement.textContent = formatNumber(adjustedCost) + " FCFA";
            finalCostElement.textContent = formatNumber(finalCost) + " FCFA";
            costPerM2Element.textContent = formatNumber(costPerM2) + " FCFA/mÂ²";
            surfaceResult.textContent = currentSurface;
            
            // Mise Ã  jour de la rÃ©partition
            updateCostBreakdown(typeData, optionsMultiplier, unexpectedPercent);
            
            // Mettre Ã  jour les graphiques
            updateCharts();
        }

        // Mise Ã  jour de la rÃ©partition des coÃ»ts
        function updateCostBreakdown(data, optionsMultiplier, unexpectedPercent) {
            const breakdown = data.breakdown;
            let html = '';
            
            // Postes de construction
            const postNames = {
                foundation: "Fondation",
                walls: "Murs BTCS",
                intermediateFloors: "Dalles intermÃ©diaires",
                roof: "Toiture",
                electricity: "Ã‰lectricitÃ©",
                plumbing: "Plomberie",
                joinery: "Menuiserie",
                finishes: "Finitions",
                miscellaneous: "Divers"
            };
            
            for (const [key, value] of Object.entries(breakdown)) {
                const postName = postNames[key] || key;
                const cost = Math.round(value * optionsMultiplier);
                const percentage = Math.round((cost / (data.total * optionsMultiplier)) * 100);
                
                html += `
                <div class="cost-breakdown-item">
                    <div class="d-flex justify-content-between">
                        <span>${postName}:</span>
                        <span class="fw-bold">${formatNumber(cost)} FCFA</span>
                    </div>
                    <div class="progress mt-1" style="height: 6px;">
                        <div class="progress-bar progress-bar-custom" style="width: ${percentage}%"></div>
                    </div>
                </div>
                `;
            }
            
            // ImprÃ©vus
            const unexpectedCost = Math.round((data.total * optionsMultiplier) * (unexpectedPercent / 100));
            html += `
            <div class="cost-breakdown-item">
                <div class="d-flex justify-content-between">
                    <span>ImprÃ©vus (${unexpectedPercent}%):</span>
                    <span class="fw-bold text-danger">${formatNumber(unexpectedCost)} FCFA</span>
                </div>
                <div class="progress mt-1" style="height: 6px;">
                    <div class="progress-bar bg-danger" style="width: ${unexpectedPercent}%"></div>
                </div>
            </div>
            `;
            
            costBreakdownElement.innerHTML = html;
        }

        // Mise Ã  jour du tableau comparatif
        function updateComparisonTable() {
            const data = calculateCostsForSurface(currentSurface);
            
            // Tips et REX (restent les mÃªmes)
            const tipsAndRex = [
                "ðŸ’¡ VÃ©rifier Ã©tude de sol, Ã©viter surdimension â†’ -10â€¯% coÃ»t. REX : sol sableux rÃ©duit coÃ»t, sol humide = surcoÃ»t 15â€¯%",
                "ðŸ’¡ Acheter BTCS en gros â†’ remise 10â€“15â€¯%. REX : murs trop fins â†’ fissures frÃ©quentes",
                "ðŸ’¡ Coffrage rÃ©utilisable ou hourdis lÃ©ger â†’ -15â€¯%. REX : dalle trop lourde â†’ fondation surdimensionnÃ©e, retard chantier",
                "ðŸ’¡ Toiture simple pente ou 2 pentes â†’ Ã©conomie 10â€¯%. REX : toiture complexe = retard et +20â€¯% coÃ»t",
                "ðŸ’¡ PrÃ©voir points Ã©lectriques standards, Ã©viter changements frÃ©quents â†’ -10â€¯%. REX : modification en cours = +25â€¯% coÃ»t",
                "ðŸ’¡ Installer tuyaux apparent ou gaines prÃ©fabriquÃ©es â†’ -15â€¯%. REX : ajouter salle bain = explosion budget",
                "ðŸ’¡ Aluminium ou bois local selon budget. REX : portes bon marchÃ© â†’ remplacement rapide",
                "ðŸ’¡ Carrelage standard + peinture Ã  l'eau â†’ -20â€¯%. REX : finitions luxe â†’ +50â€¯% coÃ»t",
                "ðŸ’¡ Toujours prÃ©voir 10â€“15â€¯% du budget. REX : modifications aprÃ¨s fondation â†’ coÃ»ts explosifs"
            ];
            
            const postNames = [
                "Fondation",
                "Murs BTCS + pose",
                "Dalles intermÃ©diaires",
                "Toiture",
                "ElectricitÃ©",
                "Plomberie",
                "Menuiserie (portes + fenÃªtres)",
                "Finitions (carrelage + peinture)",
                "Divers / imprÃ©vus"
            ];
            
            const keys = [
                "foundation",
                "walls",
                "intermediateFloors",
                "roof",
                "electricity",
                "plumbing",
                "joinery",
                "finishes",
                "miscellaneous"
            ];
            
            let html = '';
            
            for (let i = 0; i < keys.length; i++) {
                const key = keys[i];
                const postName = postNames[i];
                const tip = tipsAndRex[i];
                
                // Formater l'affichage des murs avec nombre de BTCS
                let plainText = formatNumber(Math.round(data.plain.breakdown[key])) + " FCFA";
                let r1Text = formatNumber(Math.round(data.r1.breakdown[key])) + " FCFA";
                let r2Text = formatNumber(Math.round(data.r2.breakdown[key])) + " FCFA";
                
                if (key === 'walls') {
                    plainText += `<br><small>â†’ ${data.plain.btcCount} BTCS</small>`;
                    r1Text += `<br><small>â†’ ${data.r1.btcCount} BTCS</small>`;
                    r2Text += `<br><small>â†’ ${data.r2.btcCount} BTCS</small>`;
                }
                
                html += `
                <tr>
                    <td><strong>${postName}</strong></td>
                    <td><span class="cost-badge">${plainText}</span></td>
                    <td><span class="cost-badge">${r1Text}</span></td>
                    <td><span class="cost-badge">${r2Text}</span></td>
                    <td>
                        <div class="tips-box">
                            <strong>ðŸ’¡ Tips:</strong> ${tip.split('REX :')[0].replace('ðŸ’¡ ', '')}
                        </div>
                        <div class="rex-box">
                            <strong>ðŸ” REX:</strong> ${tip.split('REX :')[1] || tip}
                        </div>
                    </td>
                </tr>
                `;
            }
            
            comparisonBody.innerHTML = html;
            
            // Mettre Ã  jour les totaux
            totalPlain.textContent = formatNumber(data.plain.total) + " FCFA";
            totalR1.textContent = formatNumber(data.r1.total) + " FCFA";
            totalR2.textContent = formatNumber(data.r2.total) + " FCFA";
            
            // Calculer les pourcentages de structure
            const structurePlainPercent = Math.round(((data.plain.breakdown.foundation + data.plain.breakdown.walls + data.plain.breakdown.intermediateFloors) / data.plain.total) * 100);
            const structureR1Percent = Math.round(((data.r1.breakdown.foundation + data.r1.breakdown.walls + data.r1.breakdown.intermediateFloors) / data.r1.total) * 100);
            const structureR2Percent = Math.round(((data.r2.breakdown.foundation + data.r2.breakdown.walls + data.r2.breakdown.intermediateFloors) / data.r2.total) * 100);
            
            structurePlain.textContent = `${structurePlainPercent}%`;
            structureR1.textContent = `${structureR1Percent}%`;
            structureR2.textContent = `${structureR2Percent}%`;
            
            // Mettre Ã  jour la surface affichÃ©e
            comparisonSurface.textContent = currentSurface;
        }

        // Initialisation des graphiques
        let plainPiedChart, surfaceImpactChart;
        
        function initCharts() {
            const ctx1 = document.getElementById('chartPlainPied').getContext('2d');
            const ctx2 = document.getElementById('chartSurfaceImpact').getContext('2d');
            
            const data = calculateCostsForSurface(currentSurface);
            const labels = Object.keys(data.plain.breakdown).map(key => {
                const names = {
                    foundation: "Fondation",
                    walls: "Murs BTCS",
                    intermediateFloors: "Dalles",
                    roof: "Toiture",
                    electricity: "Ã‰lectricitÃ©",
                    plumbing: "Plomberie",
                    joinery: "Menuiserie",
                    finishes: "Finitions",
                    miscellaneous: "Divers"
                };
                return names[key] || key;
            });
            
            const dataValues = Object.values(data.plain.breakdown);
            
            // Graphique circulaire pour Plain-pied
            plainPiedChart = new Chart(ctx1, {
                type: 'doughnut',
                data: {
                    labels: labels,
                    datasets: [{
                        data: dataValues,
                        backgroundColor: [
                            '#2c3e50', '#3498db', '#e74c3c', '#2ecc71', 
                            '#f39c12', '#9b59b6', '#1abc9c', '#d35400', '#34495e'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'right',
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    const value = context.raw;
                                    label += formatNumber(value) + ' FCFA';
                                    const percentage = Math.round((value / data.plain.total) * 100);
                                    label += ` (${percentage}%)`;
                                    return label;
                                }
                            }
                        }
                    }
                }
            });
            
            // Graphique d'impact de la surface
            const surfaces = [80, 120, 160, 200];
            const plainCosts = surfaces.map(s => {
                const d = calculateCostsForSurface(s);
                return d.plain.total;
            });
            const r1Costs = surfaces.map(s => {
                const d = calculateCostsForSurface(s);
                return d.r1.total;
            });
            const r2Costs = surfaces.map(s => {
                const d = calculateCostsForSurface(s);
                return d.r2.total;
            });
            
            surfaceImpactChart = new Chart(ctx2, {
                type: 'line',
                data: {
                    labels: surfaces.map(s => `${s} mÂ²`),
                    datasets: [
                        {
                            label: 'Plain-pied',
                            data: plainCosts,
                            backgroundColor: 'rgba(52, 152, 219, 0.1)',
                            borderColor: 'rgba(52, 152, 219, 1)',
                            borderWidth: 2,
                            tension: 0.3
                        },
                        {
                            label: 'R+1',
                            data: r1Costs,
                            backgroundColor: 'rgba(46, 204, 113, 0.1)',
                            borderColor: 'rgba(46, 204, 113, 1)',
                            borderWidth: 2,
                            tension: 0.3
                        },
                        {
                            label: 'R+2',
                            data: r2Costs,
                            backgroundColor: 'rgba(231, 76, 60, 0.1)',
                            borderColor: 'rgba(231, 76, 60, 1)',
                            borderWidth: 2,
                            tension: 0.3
                        }
                    ]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: false,
                            ticks: {
                                callback: function(value) {
                                    return formatNumber(value) + ' FCFA';
                                }
                            }
                        }
                    },
                    plugins: {
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `${context.dataset.label}: ${formatNumber(context.raw)} FCFA`;
                                }
                            }
                        }
                    }
                }
            });
        }
        
        // Mise Ã  jour des graphiques
        function updateCharts() {
            const data = calculateCostsForSurface(currentSurface);
            
            // Mettre Ã  jour le graphique circulaire
            if (plainPiedChart) {
                plainPiedChart.data.datasets[0].data = Object.values(data.plain.breakdown);
                plainPiedChart.update();
            }
            
            // Mettre Ã  jour le graphique d'impact de surface
            if (surfaceImpactChart) {
                const surfaces = [80, 120, 160, 200];
                const plainCosts = surfaces.map(s => {
                    const d = calculateCostsForSurface(s);
                    return d.plain.total;
                });
                const r1Costs = surfaces.map(s => {
                    const d = calculateCostsForSurface(s);
                    return d.r1.total;
                });
                const r2Costs = surfaces.map(s => {
                    const d = calculateCostsForSurface(s);
                    return d.r2.total;
                });
                
                surfaceImpactChart.data.datasets[0].data = plainCosts;
                surfaceImpactChart.data.datasets[1].data = r1Costs;
                surfaceImpactChart.data.datasets[2].data = r2Costs;
                surfaceImpactChart.update();
            }
        }

        // Mettre Ã  jour les paramÃ¨tres Ã  partir des inputs
        function updateParamsFromInputs() {
            unitParams.btcsCost = parseFloat(btcsCostInput.value);
            unitParams.foundationCost = parseFloat(foundationCostInput.value);
            unitParams.floorCost = parseFloat(floorCostInput.value);
            unitParams.roofCost = parseFloat(roofCostInput.value);
            unitParams.electricityCost = parseFloat(electricityCostInput.value);
            unitParams.plumbingCost = parseFloat(plumbingCostInput.value);
            unitParams.joineryCost = parseFloat(joineryCostInput.value);
            unitParams.finishesCost = parseFloat(finishesCostInput.value);
            unitParams.laborCost = parseFloat(laborCostInput.value);
            unitParams.roofCoefficient = parseFloat(roofCoefficientInput.value);
        }

        // RÃ©initialiser les paramÃ¨tres
        function resetParams() {
            unitParams = {
                btcsCost: 250,
                foundationCost: 30667,
                floorCost: 43200,
                roofCost: 40000,
                electricityCost: 10000,
                plumbingCost: 25000,
                joineryCost: 33333,
                finishesCost: 35000,
                laborCost: 12500,
                roofCoefficient: 1.2
            };
            
            // Mettre Ã  jour les inputs
            btcsCostInput.value = unitParams.btcsCost;
            foundationCostInput.value = unitParams.foundationCost;
            floorCostInput.value = unitParams.floorCost;
            roofCostInput.value = unitParams.roofCost;
            electricityCostInput.value = unitParams.electricityCost;
            plumbingCostInput.value = unitParams.plumbingCost;
            joineryCostInput.value = unitParams.joineryCost;
            finishesCostInput.value = unitParams.finishesCost;
            laborCostInput.value = unitParams.laborCost;
            roofCoefficientInput.value = unitParams.roofCoefficient;
            
            // Recalculer tout
            updateAll();
        }

        // Mettre Ã  jour tout l'affichage
        function updateAll() {
            updateSimulator();
            updateComparisonTable();
            updateCharts();
        }

        // Animation au dÃ©filement
        function animateOnScroll() {
            const elements = document.querySelectorAll('.animate-on-scroll');
            
            elements.forEach(element => {
                const elementPosition = element.getBoundingClientRect().top;
                const screenPosition = window.innerHeight / 1.2;
                
                if (elementPosition < screenPosition) {
                    element.classList.add('visible');
                }
            });
        }

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            // Initialiser les paramÃ¨tres
            resetParams();
            
            // Mettre Ã  jour tout l'affichage
            updateAll();
            
            // Initialiser les graphiques
            initCharts();
            
            // Ã‰couteurs d'Ã©vÃ©nements
            surfaceInput.addEventListener('input', function() {
                currentSurface = parseInt(this.value);
                surfaceDisplay.textContent = currentSurface;
                updateAll();
            });
            
            houseTypeSelect.addEventListener('change', updateSimulator);
            unexpectedSlider.addEventListener('input', function() {
                unexpectedValue.textContent = this.value + "%";
                updateSimulator();
            });
            
            // Options additionnelles
            studySoilCheck.addEventListener('change', updateSimulator);
            qualityMaterialsCheck.addEventListener('change', updateSimulator);
            energyEfficientCheck.addEventListener('change', updateSimulator);
            
            // ParamÃ¨tres
            applyParamsBtn.addEventListener('click', function() {
                updateParamsFromInputs();
                updateAll();
                alert("ParamÃ¨tres appliquÃ©s avec succÃ¨s!");
            });
            
            resetParamsBtn.addEventListener('click', resetParams);
            
            // Animation au dÃ©filement
            window.addEventListener('scroll', animateOnScroll);
            animateOnScroll(); // Pour les Ã©lÃ©ments dÃ©jÃ  visibles
            
            // Smooth scroll pour les liens d'ancrage
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const targetId = this.getAttribute('href');
                    if (targetId === '#') return;
                    
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop - 80,
                            behavior: 'smooth'
                        });
                    }
                });
            });
        });
    </script>
</body>
</html>
